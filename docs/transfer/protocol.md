Date: 2026-02-06
Version: 1.0.0+1
Author: generated by agent

# Protocole HTTP de transfert

Résumé : le service expose un protocole HTTP très simple aujourd'hui. Ce document formalise le manifeste et propose évolutions (versioning, manifest JSON structuré).

Endpoints actuels (implémentation) :

- `GET /session` : renvoie `200 OK` et un JSON contenant :
  - `sessionId` (string)
  - `items` : liste d'objets `{ index, name, size }`

- `GET /file/<index>` : renvoie le flux brut du fichier (Content-Type: application/octet-stream) et `Content-Length`.

Proposition d'amélioration (manifest structuré v1):

```json
{
  "protocolVersion": "1.0",
  "sessionId": "...",
  "transferId": "...",
  "items": [
    {
      "index": 0,
      "path": "relative/original/path",
      "name": "file.ext",
      "size": 12345,
      "sha256": "...",
      "isDirectory": false
    }
  ]
}
```

Versioning : ajouter `protocolVersion` dans le manifest et supporter la compatibilité ascendante.
